spec:
  name: trading-bot
  services:
    - name: web
      instance_count: 1
      instance_size_slug: basic-xxs
      environment_slug: node-js
      git:
        repo_clone_url: https://github.com/AlphaInsider/trading_bot.git
        branch: master
      build_command: npm install
      run_command: npm run setup && npm start
      health_check:
        http_path: /
        initial_delay_seconds: 30
      envs:
        - key: DATABASE_URL
          value: ${database.DATABASE_URL}
          scope: RUN_TIME
        - key: NODE_ENV
          value: production
          scope: RUN_TIME
  databases:
    - cluster_name: db-cluster
      name: database
      engine: PG
      production: false
  envs:
    - key: ALPACA_KEY
      type: GENERAL
    - key: ALPACA_SECRET
      type: GENERAL
    - key: ALPHAINSIDER_API_KEY
      type: GENERAL
    - key: STRATEGY_ID
      type: GENERAL
    - key: MARGIN_MULTIPLIER
      value: "1"
      type: GENERAL
    - key: BUFFER_AMOUNT
      value: "0"
      type: GENERAL